# Rime table
#@/db_name	xklb_dict.txt
#@/db_type	tabledb
#@/rime_version	1.5.3
#@/tick	15
#清词频（本txt文件使用），用于导入多多输入法，或者接着用候选与编码反转正则来放到小小里用
\t[0-9]+$	ooa	7

###注意事项
###以下正则推荐用MT管理器编辑，pc推荐是Notepad++，均要开启正则表达式和区分大小写###
###整理xklb_user.txt前先切一下其他方案再切换回来，如果主题有刷新键则会方便一些，点一下刷新键即可###
###整理完后无须部署，切一下其他方案再切换回来或是用刷新键即可###



###正则提取引导所造的自造词，使用于xklb_user.txt，以转移至主词库，转移后请删清空xklb_user.txt的内容
###清理xklb_user.txt中多余的记录，全部替换为无内容
^.*?\t.*[A-Z/].*\t.*\r?\n	ooa	9

###↓第一步#搜索3码的自造词，替换以补全码并加大写W定级
(^..+\t)([a-z]{3})\t.*$([\s\S]*)(^\1enc\2(.*)\t.*$)	ooq	9
###↓替换至没有匹配内容
$1$2$5W1$3$4	ooq	8

###↓第二步#搜索4码的自造词，替换以补全码并加大写X定级
(^..+\t)([a-z]{4})\t.*$([\s\S]*)(^\1enc\2(.*)\t.*$)	oow	9
###↓替换至没有匹配内容
$1$2$5X$3$4	oow	8


###↓第三步#搜索5码的自造词，替换以补全码并加大写Y定级
(^..+\t)([a-z]{5})\t.*$([\s\S]*)(^\1enc\2(.*)\t.*$)	ooe	9
###↓替换至没有匹配内容
$1$2$5Y$3$4	ooe	8


###↓第四步#搜索6码的自造词，替换以补全码并加大写Z定级
(^..+\t)([a-z]{6})\t.*$([\s\S]*)(^\1enc\2(.*)\t.*$)	oor	9
###↓替换至没有匹配内容
$1$2$5Z$3$4	oor	8

###↓第五步#清空enc词条，替换为无内容
^.*enc.*\r?\n	ooa	8

###↓第六步#获取所有已经改写好的自造词
[\s\S]*?(^..+\t[a-z]+[A-Z]1?)$	oos	9
###↓全部替换点一次即可
$1\r\n	oos	8

###完毕，复制自造词至主词库，并清空xklb_user.txt的内容



#候选与编码反转正则
(.*)\t(.*)	oom	9
$2\t$1	oom	8
$2 $1	oom	7


#找出补丁删除/改级的词条，替换为无内容
^[^#].*[^A-Z0-9]([A-Z][0-9]?)$\r\n	oosg	9

#删除多余的定级内容
([A-Z][0-9]?)+([A-Z][0-9]?)$	oosc	9
$2	oosc	8

#还原编码
(.....A|....B|...C|..D|.E|F|.....U|...W|..X|.Y|Z|.(.)...V)(.?)$	oocc	9
$2	oocc	8
$2$3	oocc	7








##########以下是xklb_user.userdb文件夹类型的用户词典处理方法############



###正则提取引导所造的自造词，使用于xklb_user.userdb文件夹，以转移至主词库，转移后请删清空xklb_user.txt的内容
###清理xklb_user.userdb.txt中多余的记录，全部替换为无内容
#^.*[A-Z,.;:?!'].*\t.*\r?\n|^[a-z].*c=-.*\r?\n|^[aeiou].*\r?\n|^.*/ .*\r?\n	ooa	9

###↓第一步#搜索3码的自造词，替换以补全码并加大写W定级
#(^[a-z]{3}) \t(..+)?\t.*$([\s\S]*)(^enc\1(...) \t\2\t.*$)	ooq	9
###↓替换至没有匹配内容
#$2\t$1$5W1$3$4	ooq	8


###↓第二步#搜索4码的自造词，替换以补全码并加大写X定级
#(^[a-z]{4}) \t(..+)?\t.*$([\s\S]*)(^enc\1(..) \t\2\t.*$)	oow	9
###↓替换至没有匹配内容
#$2\t$1$5X$3$4	oow	8


###↓第三步#搜索5码的自造词，替换以补全码并加大写Y定级
#(^[a-z]{5}) \t(..+)?\t.*$([\s\S]*)(^enc\1(.) \t\2\t.*$)	ooe	9
###↓替换至没有匹配内容
#$2\t$1$5Y$3$4	ooe	8

###↓第四步#搜索6码的自造词，替换以补全码并加大写Z定级
#(^[a-z]{6}) \t(..+)?\t.*$([\s\S]*)(^enc\1 \t\2\t.*$)	oor	9
###↓替换至没有匹配内容
#$2\t$1Z$3$4	oor	8

###↓第五步#清空enc词条，替换为无内容
#^.*enc.*\r?\n	ooa	8

###↓第六步#获取所有已经改写好的自造词
#[\s\S]*?(^..+\t[a-z]+[A-Z]1?)$	oos	9
###↓全部替换点一次即可
#$1\r\n	oos	8

###完毕，复制自造词至主词库，并清空xklb_user.userdb.txt与用户目录中xklb_user.userdb文件夹的内容
